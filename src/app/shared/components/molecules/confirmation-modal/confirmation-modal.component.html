@if (isVisible()) {
  <div class="modal-backdrop fixed top-0 left-0 w-full h-full flex align-items-center justify-content-center p-3 md:p-5" (click)="onBackdropClick($event)">
    <div class="modal-dialog w-full max-w-30rem">
      <div class="modal-content bg-white border-round-xl shadow-4 overflow-hidden">
        <div class="modal-header flex align-items-center gap-3 p-4 border-bottom-1 surface-border">
          <div class="warning-icon w-3rem h-3rem border-round-50 flex align-items-center justify-content-center flex-shrink-0 bg-yellow-50">
            <i class="pi pi-exclamation-triangle text-yellow-500 text-xl"></i>
          </div>
          <h2 class="modal-title m-0 text-xl font-semibold text-900">{{ title() }}</h2>
        </div>

        <div class="modal-body p-4">
          <p class="confirmation-message text-base text-700 m-0 mb-4 line-height-3">{{ message() }}</p>

          @if (event()) {
            <div class="event-preview surface-50 border-1 surface-border border-round p-3 mb-4">
              <div class="event-info flex gap-3 align-items-start">
                <div class="event-image-small w-4rem h-4rem border-round overflow-hidden flex-shrink-0">
                  @if (event()?.imageUrl) {
                    <img [src]="event()!.imageUrl" [alt]="event()!.title" class="w-full h-full object-fit-cover" />
                  } @else {
                    <div class="placeholder-image-small w-full h-full surface-200 flex align-items-center justify-content-center">
                      <i class="pi pi-image text-600 text-xl"></i>
                    </div>
                  }
                </div>
                <div class="event-details flex-1 min-w-0">
                  <h3 class="event-title m-0 mb-2 text-base font-semibold text-900 line-height-3">{{ event()?.title }}</h3>
                  <p class="event-description m-0 text-sm text-600 line-height-3 text-overflow-ellipsis overflow-hidden">{{ event()?.description }}</p>
                </div>
              </div>
            </div>
          }

          <div class="warning-text flex align-items-center gap-2 p-3 bg-red-50 border-1 border-red-200 border-round text-sm text-red-900">
            <i class="pi pi-info-circle text-red-500 flex-shrink-0"></i>
            <span>Esta ação não pode ser desfeita.</span>
          </div>
        </div>

        <div class="modal-footer flex gap-3 justify-content-end p-4 pt-3 border-top-1 surface-border flex-column md:flex-row">
          <button
            class="cancel-button flex align-items-center justify-content-center gap-2 px-4 py-2 border-round text-sm font-semibold cursor-pointer transition-all transition-duration-200 bg-white text-600 border-1 surface-border hover:surface-50 hover:border-300 hover:text-500 w-full md:w-auto order-2 md:order-1"
            type="button"
            title="Cancelar"
            (click)="onCancelClick()">
            <i class="pi pi-times text-sm"></i>
            <span>{{ cancelText() }}</span>
          </button>

          <button
            class="confirm-button flex align-items-center justify-content-center gap-2 px-4 py-2 border-round text-sm font-semibold cursor-pointer transition-all transition-duration-200 bg-red-500 text-white border-none hover:bg-red-600 hover:shadow-3 w-full md:w-auto order-1 md:order-2"
            type="button"
            title="Confirmar"
            (click)="onConfirmClick()">
            <i class="pi pi-trash text-sm"></i>
            <span>{{ confirmText() }}</span>
          </button>
        </div>
      </div>
    </div>
  </div>
}
